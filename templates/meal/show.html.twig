{% extends 'base.html.twig' %}

{% block title %}Meal{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" href="{{asset("CSS/cardCSS/style.css")}}">
{% endblock %}

{% block body %}
<div class="container">
    <h1 class="text-center m-2">Meal details</h1>
   
   <div class='p-2'>
        <div class='card h-100'>
            <img src={{ meal.picture }} class='card-img-top object-fit-cover' style='height:30rem;' alt={{ meal.name }}>
            <div class='card-body'>
              <h5 class='card-title'>Name: {{ meal.name }}</h5>
              <p class='card-text'>Ingredients: {{ meal.ingredients }}</p>
              <p class='card-text'>Description: {{ meal.description }}</p>
              <p class='card-text'>preparation: {{ meal.preparation }}</p>
              <p class='card-text'>Creator: {{ meal.creator }}</p>
              <p class='card-text'>Calories: {{ meal.calories }}</p>
              <p class='card-text'>Meal type: {{ meal.type }} seats</p>
              {% set maximum_stars = 5 %}
                        {% if meal.rating <= maximum_stars %}
                            {% for star in 0..(meal.rating) %}
                                {% if star != 0 %}
                                    <i class="bi bi-star-fill text-warning"></i>
                                {% endif %}
                            {% endfor %}
                            {% if (meal.rating) - (meal.rating|round(0, 'floor')) != 0 %}
                                <i class="bi bi-star-half text-warning"></i>
                            {% endif %}
                            {% for star in 0..(maximum_stars - meal.rating|round(0, 'ceil')) %}
                                {% if star != 0 %}
                                    <i class="bi bi-star emptyStar text-warning"></i>
                                {% endif %}
                            {% endfor %}
                        {% endif %}
              <div class='d-flex justify-content-start'>
              <a href="{{ path('app_meal_index') }}">back to list</a>
              <a href="{{ path('app_meal_edit', {'id': meal.id}) }}">edit</a>
              {{ include('meal/_delete_form.html.twig') }}
            </div>
          </div>
        </div>
    </div>
</div>
{% endblock %}
